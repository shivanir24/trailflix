{"ast":null,"code":"// import React, { useContext, useState, useEffect } from \"react\";\n// import MovieList from \"../../api/MovieList\";\n// import { MovieContext } from \"../../context/MovieContext\";\n// import { useNavigate, useParams } from \"react-router-dom\";\n// export default function VideoPlayer() {\n//   const { id } = useParams();\n//   const nav = useNavigate();\n//   // const [movieid, setMovieid] = useState(id);\n//   const { movies, setMovies } = useContext(MovieContext);\n//   const [actors, setActors] = useState(\"\");\n//   const [director, setDirector] = useState(\"\");\n//   const [comments, setComments] = useState(\"\");\n//   const [firstname, setFirstname] = useState(\"\");\n//   const [userComments, setUserComments] = useState([]);\n//   const [date, setDate] = useState(\"\");\n//   const [genreid, setGenreid] = useState(\"\");\n//   const [genreName, setGenreName] = useState(\"\");\n//   const fetchData = async () => {\n//     try {\n//       const video = await MovieList.get(`/get-movie-list/${id}`);\n//       setMovies(video.data);\n//       setGenreid(movies?.data?.movie_title?.genreid);\n//       const adetail = await MovieList.get(`/actor-details/${id}`);\n//       setActors(adetail.data.info);\n//       const ddetail = await MovieList.get(`/director-details/${id}`);\n//       setDirector(ddetail.data.info);\n//       const user = await MovieList.get(`/get-movie-comment/${id}`);\n//       setUserComments(user.data.info);\n//       console.log(genreid);\n//       //console.log(movies?.data?.movie_title?.genreid);\n//       const gen = await MovieList.get(`/get-genre/${genreid}`);\n//       setGenreName(gen?.data);\n//       console.log(genreName);\n//       //console.log(video.data);\n//     } catch (error) {\n//       console.log(error.message);\n//       //redirect to homepage\n//     }\n//   };\n//   const addComment = async (e) => {\n//     e.preventDefault();\n//     console.log(movies);\n//     try {\n//       const user = await MovieList.post(\n//         `/add-comments/${movies.data.movie_title.videoid}`,\n//         {\n//           name: firstname,\n//           comments: comments,\n//         }\n//       );\n//       window.location.reload();\n//       console.log(user?.data);\n//     } catch (error) {\n//       console.log(error.message);\n//     }\n//   };\n//   //const style = { on: { color: \"#000\" }, off: { color: \"#111\" } };\n//   useEffect(() => {\n//     fetchData();\n//     addComment();\n//   }, []);\n//   return (\n//     <div className=\" grid grid-rows-1 gap-4 w-full min-h-screen justify-center items-center pt-10\">\n//       <div>\n//         <iframe\n//           width=\"1000\"\n//           height=\"500\"\n//           src={movies?.data?.movie_title?.link}\n//           title=\"YouTube video player\"\n//           frameborder=\"0\"\n//           allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n//           allowfullscreen\n//         ></iframe>\n//       </div>\n//       <div className=\"mt-10\">\n//         <h1 className=\"font-bold text-4xl dark:text-black\">Movie Cast</h1>\n//       </div>\n//       <div className=\"grid grid-cols-2 gap-4\">\n//         {actors &&\n//           actors.map((actor) => {\n//             return (\n//               <div className=\"block p-6 max-w-sm  rounded-lg border border-gray-200 shadow-md  dark:border-gray-700 bg-gray-700\">\n//                 <div key={actor?.movieid} class=\"flex items-center space-x-4 \">\n//                   <img\n//                     class=\"w-36 h-36 rounded-full\"\n//                     src={actor?.aimg_link}\n//                     alt=\"\"\n//                   />\n//                   <div className=\"space-y-1 font-medium dark:text-white\">\n//                     <div className=\"text-white\">\n//                       {actor?.fname.concat(\" \".concat(actor.lname))}\n//                     </div>\n//                     <div className=\"text-white\">Gender: {actor.gender}</div>\n//                   </div>\n//                 </div>\n//               </div>\n//             );\n//           })}\n//       </div>\n//       <div className=\"mt-10\">\n//         <h1 className=\"font-bold text-4xl dark:text-black\">Director</h1>\n//       </div>\n//       <div>\n//         {director &&\n//           director.map((director) => {\n//             return (\n//               <div className=\"block p-6 max-w-sm bg-gray-700 rounded-lg border border-gray-200 shadow-md dark:border-gray-700 dark:bg-gray-700\">\n//                 <div class=\"flex items-center space-x-4 \">\n//                   <img\n//                     class=\"w-36 h-36 rounded-full\"\n//                     src={director?.dimg_link}\n//                     alt=\"\"\n//                   />\n//                   <div class=\"space-y-1 font-medium dark:text-white \">\n//                     <div className=\"text-white hover:text-white \">\n//                       {director?.fname.concat(\" \".concat(director.lname))}\n//                     </div>\n//                     <div className=\"text-white hover:text-white \">\n//                       Gender: {director?.gender}\n//                     </div>\n//                     <div className=\"text-white hover:text-white \">\n//                       No Of Movies: {director?.no_of_movies}\n//                     </div>\n//                   </div>\n//                 </div>\n//               </div>\n//             );\n//           })}\n//       </div>\n//       <p className=\" pt-10 font-bold text-3xl\">Movie Details</p>\n//       <div>\n//         <a\n//           href=\"#\"\n//           class=\"flex flex-col items-center w-max h-100 bg-gray-700 rounded-lg border shadow-md md:flex-col md:max-w-xl dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700\"\n//         >\n//           <img\n//             class=\"object-cover w-full h-96 rounded-t-lg md:h-auto md:w-48 md:rounded-none md:rounded-l-lg pt-6\"\n//             src={movies?.data?.movie_title?.poster_link}\n//             alt=\"\"\n//           />\n//           <div class=\"flex flex-col justify-between p-4 leading-normal\">\n//             <h5 class=\"mb-2 text-2xl font-bold tracking-tight text-white dark:text-white\">\n//               {movies?.data?.movie_title?.title}\n//             </h5>\n//             <p class=\"mb-3 font-normal text-white dark:text-gray-400\">\n//               {movies?.data?.movie_title?.movie_desc}\n//             </p>\n//             <div className=\"space-x-4 flex text-base\">\n//               <p class=\"mb-1  font-normal text-5xl text-yellow-600\">\n//                 {\"*\".repeat(movies?.data?.movie_title?.imdb_rating)}\n//               </p>\n//               <p className=\"font-normal text-yellow-600 text-xl \">\n//                 {movies?.data?.movie_title?.imdb_rating}\n//               </p>\n//             </div>\n//             <p className=\"text-white\">\n//               Date of Release:{\" \"}\n//               {movies?.data?.movie_title?.date_of_release.slice(0, 10)}\n//             </p>\n//             {<p className=\"text-white pt-3\">Genre: {genreName?.genre_name}</p>}\n//           </div>\n//         </a>\n//       </div>\n//       <div>\n//         <p className=\"text-3xl pt-10 font-bold \">Add Comments</p>\n//         <form\n//           className=\"pt-4\"\n//           onSubmit={(e) => {\n//             addComment(e);\n//           }}\n//         >\n//           <div class=\"mb-4 w-full bg-gray-50 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600\">\n//             <div class=\"py-2 px-4 bg-white rounded-t-lg dark:bg-gray-800\">\n//               <label for=\"comment\" class=\"sr-only\">\n//                 Your comment\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={firstname}\n//                 class=\"px-0 w-full text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400\"\n//                 placeholder=\"First Name\"\n//                 onChange={(e) => {\n//                   setFirstname(e.target.value);\n//                 }}\n//                 required=\"\"\n//               ></input>\n//             </div>\n//             <div class=\"py-2 px-4 bg-white rounded-t-lg dark:bg-gray-800\">\n//               <label for=\"comment\" class=\"sr-only\">\n//                 Your comment\n//               </label>\n//               <textarea\n//                 id=\"comment\"\n//                 rows=\"4\"\n//                 value={comments}\n//                 onChange={(e) => {\n//                   setComments(e.target.value);\n//                 }}\n//                 class=\"px-0 w-full text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400\"\n//                 placeholder=\"Write a comment...\"\n//                 required=\"\"\n//               ></textarea>\n//             </div>\n//             <div class=\"flex justify-between items-center py-2 px-3 border-t dark:border-gray-600\">\n//               <button\n//                 type=\"submit\"\n//                 class=\"inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800\"\n//               >\n//                 Post comment\n//               </button>\n//             </div>\n//           </div>\n//         </form>\n//       </div>\n//       <p className=\"text-3xl pt-6 font-bold \">Comments</p>\n//       <div class=\"p-4 max-w bg-gray-700 rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n//         <div class=\"grid mb-4\">\n//           <ul role=\"list\" class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n//             {userComments &&\n//               userComments.map((userComments) => {\n//                 return (\n//                   <li class=\"py-3 sm:py-4 \">\n//                     <div class=\"flex items-baseline justify-between space-x-4\">\n//                       <div class=\"flex-1 min-w-0\">\n//                         <p class=\" text-xl font-medium text-white truncate dark:text-white\">\n//                           {userComments?.username}\n//                         </p>\n//                         {/* <p class=\"text-sm text-gray-500 truncate dark:text-gray-400\">\n//                           {userComments?.user_email}\n//                         </p> */}\n//                         <p class=\"overflow-hidden text-white leading-relaxed overflow-ellipsis\">\n//                           {userComments?.comment}\n//                         </p>\n//                       </div>\n//                       {/* <div class=\"lg:flex-grow content-end\">\n//                       </div> */}\n//                     </div>\n//                   </li>\n//                 );\n//               })}\n//           </ul>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }","map":{"version":3,"names":[],"sources":["C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/src/components/Movies/VideoPlayer.js"],"sourcesContent":["// import React, { useContext, useState, useEffect } from \"react\";\n// import MovieList from \"../../api/MovieList\";\n// import { MovieContext } from \"../../context/MovieContext\";\n// import { useNavigate, useParams } from \"react-router-dom\";\n\n// export default function VideoPlayer() {\n//   const { id } = useParams();\n//   const nav = useNavigate();\n\n//   // const [movieid, setMovieid] = useState(id);\n\n//   const { movies, setMovies } = useContext(MovieContext);\n//   const [actors, setActors] = useState(\"\");\n//   const [director, setDirector] = useState(\"\");\n//   const [comments, setComments] = useState(\"\");\n//   const [firstname, setFirstname] = useState(\"\");\n//   const [userComments, setUserComments] = useState([]);\n//   const [date, setDate] = useState(\"\");\n//   const [genreid, setGenreid] = useState(\"\");\n\n//   const [genreName, setGenreName] = useState(\"\");\n\n//   const fetchData = async () => {\n//     try {\n//       const video = await MovieList.get(`/get-movie-list/${id}`);\n//       setMovies(video.data);\n//       setGenreid(movies?.data?.movie_title?.genreid);\n//       const adetail = await MovieList.get(`/actor-details/${id}`);\n//       setActors(adetail.data.info);\n//       const ddetail = await MovieList.get(`/director-details/${id}`);\n//       setDirector(ddetail.data.info);\n\n//       const user = await MovieList.get(`/get-movie-comment/${id}`);\n//       setUserComments(user.data.info);\n//       console.log(genreid);\n\n//       //console.log(movies?.data?.movie_title?.genreid);\n\n//       const gen = await MovieList.get(`/get-genre/${genreid}`);\n//       setGenreName(gen?.data);\n//       console.log(genreName);\n\n//       //console.log(video.data);\n//     } catch (error) {\n//       console.log(error.message);\n//       //redirect to homepage\n//     }\n//   };\n\n//   const addComment = async (e) => {\n//     e.preventDefault();\n//     console.log(movies);\n//     try {\n//       const user = await MovieList.post(\n//         `/add-comments/${movies.data.movie_title.videoid}`,\n//         {\n//           name: firstname,\n//           comments: comments,\n//         }\n//       );\n//       window.location.reload();\n\n//       console.log(user?.data);\n//     } catch (error) {\n//       console.log(error.message);\n//     }\n//   };\n\n//   //const style = { on: { color: \"#000\" }, off: { color: \"#111\" } };\n\n//   useEffect(() => {\n//     fetchData();\n\n//     addComment();\n//   }, []);\n\n//   return (\n//     <div className=\" grid grid-rows-1 gap-4 w-full min-h-screen justify-center items-center pt-10\">\n//       <div>\n//         <iframe\n//           width=\"1000\"\n//           height=\"500\"\n//           src={movies?.data?.movie_title?.link}\n//           title=\"YouTube video player\"\n//           frameborder=\"0\"\n//           allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n//           allowfullscreen\n//         ></iframe>\n//       </div>\n//       <div className=\"mt-10\">\n//         <h1 className=\"font-bold text-4xl dark:text-black\">Movie Cast</h1>\n//       </div>\n//       <div className=\"grid grid-cols-2 gap-4\">\n//         {actors &&\n//           actors.map((actor) => {\n//             return (\n//               <div className=\"block p-6 max-w-sm  rounded-lg border border-gray-200 shadow-md  dark:border-gray-700 bg-gray-700\">\n//                 <div key={actor?.movieid} class=\"flex items-center space-x-4 \">\n//                   <img\n//                     class=\"w-36 h-36 rounded-full\"\n//                     src={actor?.aimg_link}\n//                     alt=\"\"\n//                   />\n\n//                   <div className=\"space-y-1 font-medium dark:text-white\">\n//                     <div className=\"text-white\">\n//                       {actor?.fname.concat(\" \".concat(actor.lname))}\n//                     </div>\n//                     <div className=\"text-white\">Gender: {actor.gender}</div>\n//                   </div>\n//                 </div>\n//               </div>\n//             );\n//           })}\n//       </div>\n//       <div className=\"mt-10\">\n//         <h1 className=\"font-bold text-4xl dark:text-black\">Director</h1>\n//       </div>\n//       <div>\n//         {director &&\n//           director.map((director) => {\n//             return (\n//               <div className=\"block p-6 max-w-sm bg-gray-700 rounded-lg border border-gray-200 shadow-md dark:border-gray-700 dark:bg-gray-700\">\n//                 <div class=\"flex items-center space-x-4 \">\n//                   <img\n//                     class=\"w-36 h-36 rounded-full\"\n//                     src={director?.dimg_link}\n//                     alt=\"\"\n//                   />\n//                   <div class=\"space-y-1 font-medium dark:text-white \">\n//                     <div className=\"text-white hover:text-white \">\n//                       {director?.fname.concat(\" \".concat(director.lname))}\n//                     </div>\n//                     <div className=\"text-white hover:text-white \">\n//                       Gender: {director?.gender}\n//                     </div>\n//                     <div className=\"text-white hover:text-white \">\n//                       No Of Movies: {director?.no_of_movies}\n//                     </div>\n//                   </div>\n//                 </div>\n//               </div>\n//             );\n//           })}\n//       </div>\n//       <p className=\" pt-10 font-bold text-3xl\">Movie Details</p>\n//       <div>\n//         <a\n//           href=\"#\"\n//           class=\"flex flex-col items-center w-max h-100 bg-gray-700 rounded-lg border shadow-md md:flex-col md:max-w-xl dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700\"\n//         >\n//           <img\n//             class=\"object-cover w-full h-96 rounded-t-lg md:h-auto md:w-48 md:rounded-none md:rounded-l-lg pt-6\"\n//             src={movies?.data?.movie_title?.poster_link}\n//             alt=\"\"\n//           />\n//           <div class=\"flex flex-col justify-between p-4 leading-normal\">\n//             <h5 class=\"mb-2 text-2xl font-bold tracking-tight text-white dark:text-white\">\n//               {movies?.data?.movie_title?.title}\n//             </h5>\n//             <p class=\"mb-3 font-normal text-white dark:text-gray-400\">\n//               {movies?.data?.movie_title?.movie_desc}\n//             </p>\n//             <div className=\"space-x-4 flex text-base\">\n//               <p class=\"mb-1  font-normal text-5xl text-yellow-600\">\n//                 {\"*\".repeat(movies?.data?.movie_title?.imdb_rating)}\n//               </p>\n//               <p className=\"font-normal text-yellow-600 text-xl \">\n//                 {movies?.data?.movie_title?.imdb_rating}\n//               </p>\n//             </div>\n//             <p className=\"text-white\">\n//               Date of Release:{\" \"}\n//               {movies?.data?.movie_title?.date_of_release.slice(0, 10)}\n//             </p>\n//             {<p className=\"text-white pt-3\">Genre: {genreName?.genre_name}</p>}\n//           </div>\n//         </a>\n//       </div>\n//       <div>\n//         <p className=\"text-3xl pt-10 font-bold \">Add Comments</p>\n//         <form\n//           className=\"pt-4\"\n//           onSubmit={(e) => {\n//             addComment(e);\n//           }}\n//         >\n//           <div class=\"mb-4 w-full bg-gray-50 rounded-lg border border-gray-200 dark:bg-gray-700 dark:border-gray-600\">\n//             <div class=\"py-2 px-4 bg-white rounded-t-lg dark:bg-gray-800\">\n//               <label for=\"comment\" class=\"sr-only\">\n//                 Your comment\n//               </label>\n//               <input\n//                 type=\"text\"\n//                 value={firstname}\n//                 class=\"px-0 w-full text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400\"\n//                 placeholder=\"First Name\"\n//                 onChange={(e) => {\n//                   setFirstname(e.target.value);\n//                 }}\n//                 required=\"\"\n//               ></input>\n//             </div>\n//             <div class=\"py-2 px-4 bg-white rounded-t-lg dark:bg-gray-800\">\n//               <label for=\"comment\" class=\"sr-only\">\n//                 Your comment\n//               </label>\n//               <textarea\n//                 id=\"comment\"\n//                 rows=\"4\"\n//                 value={comments}\n//                 onChange={(e) => {\n//                   setComments(e.target.value);\n//                 }}\n//                 class=\"px-0 w-full text-sm text-gray-900 bg-white border-0 dark:bg-gray-800 focus:ring-0 dark:text-white dark:placeholder-gray-400\"\n//                 placeholder=\"Write a comment...\"\n//                 required=\"\"\n//               ></textarea>\n//             </div>\n//             <div class=\"flex justify-between items-center py-2 px-3 border-t dark:border-gray-600\">\n//               <button\n//                 type=\"submit\"\n//                 class=\"inline-flex items-center py-2.5 px-4 text-xs font-medium text-center text-white bg-blue-700 rounded-lg focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900 hover:bg-blue-800\"\n//               >\n//                 Post comment\n//               </button>\n//             </div>\n//           </div>\n//         </form>\n//       </div>\n//       <p className=\"text-3xl pt-6 font-bold \">Comments</p>\n//       <div class=\"p-4 max-w bg-gray-700 rounded-lg border shadow-md sm:p-8 dark:bg-gray-800 dark:border-gray-700\">\n//         <div class=\"grid mb-4\">\n//           <ul role=\"list\" class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n//             {userComments &&\n//               userComments.map((userComments) => {\n//                 return (\n//                   <li class=\"py-3 sm:py-4 \">\n//                     <div class=\"flex items-baseline justify-between space-x-4\">\n//                       <div class=\"flex-1 min-w-0\">\n//                         <p class=\" text-xl font-medium text-white truncate dark:text-white\">\n//                           {userComments?.username}\n//                         </p>\n\n//                         {/* <p class=\"text-sm text-gray-500 truncate dark:text-gray-400\">\n//                           {userComments?.user_email}\n//                         </p> */}\n//                         <p class=\"overflow-hidden text-white leading-relaxed overflow-ellipsis\">\n//                           {userComments?.comment}\n//                         </p>\n//                       </div>\n//                       {/* <div class=\"lg:flex-grow content-end\">\n                        \n//                       </div> */}\n//                     </div>\n//                   </li>\n//                 );\n//               })}\n//           </ul>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n"],"mappings":"AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}