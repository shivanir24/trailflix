{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import MovieList from\"../api/MovieList\";import{MovieContext}from\"../context/MovieContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function MovieListTable(props){var _useContext=useContext(MovieContext),movies=_useContext.movies,setMovies=_useContext.setMovies;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),genre=_useState2[0],setGenre=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),genreName=_useState4[0],setGenreName=_useState4[1];var i=0;var gen=[];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var list,_genre,_gen;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return MovieList.get(\"/get-movie-list\");case 3:list=_context.sent;setMovies(list.data.data.info);_context.next=7;return MovieList.get(\"/get-genre\");case 7:_genre=_context.sent;setGenre(_genre.data);_context.next=11;return MovieList(\"/get-genre-list\");case 11:_gen=_context.sent;setGenreName(_gen.data);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-2\",children:\"Genre\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-6 gap-6 mb-11\",children:genre&&genre.map(function(genre,index){return/*#__PURE__*/_jsx(\"a\",{// href={\"http://localhost:3000/video/\".concat(genreName?.videoid)}\nclass:\"col-span-6 sm:col-span-2 p-6 max-w-sm bg-blue-200 rounded-lg border justify-center items-center border-gray-200 shadow-md hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white \",children:genre===null||genre===void 0?void 0:genre.genre_name})},index);})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-5 mt-10\",children:\"Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\",children:movies&&movies.map(function(movies){return/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:3000/video/\".concat(movies.videoid),className:\"group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\",children:/*#__PURE__*/_jsx(\"img\",{src:movies.poster_link,className:\"w-full h-full object-center object-cover group-hover:opacity-75\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-4 text-lg text-gray-700 font-normal\",children:movies.title}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-4xl font-medium text-yellow-400\",children:\"*\".repeat(movies.imdb_rating)})]},movies.videoid);})})]})})});}//http://localhost:3000/list","map":{"version":3,"names":["React","useContext","useEffect","useState","MovieList","MovieContext","MovieListTable","props","movies","setMovies","genre","setGenre","genreName","setGenreName","i","gen","fetchData","get","list","data","info","console","log","message","map","index","genre_name","concat","videoid","poster_link","title","repeat","imdb_rating"],"sources":["C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/src/components/MovieListTable.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport MovieList from \"../api/MovieList\";\nimport { MovieContext } from \"../context/MovieContext\";\n\nexport default function MovieListTable(props) {\n  const { movies, setMovies } = useContext(MovieContext);\n  const [genre, setGenre] = useState(\"\");\n  const [genreName, setGenreName] = useState([]);\n  let i = 0;\n  let gen = [];\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const list = await MovieList.get(\"/get-movie-list\");\n        setMovies(list.data.data.info);\n        const genre = await MovieList.get(\"/get-genre\");\n        setGenre(genre.data);\n\n        const gen = await MovieList(\"/get-genre-list\");\n        setGenreName(gen.data);\n      } catch (err) {\n        console.log(err.message);\n      }\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <div>\n      <div className=\"bg-white\">\n        <div className=\"max-w-2xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:max-w-7xl lg:px-8\">\n          <h2 className=\"text-3xl font-bold mb-2\">Genre</h2>\n\n          <div className=\"grid grid-cols-6 gap-6 mb-11\">\n            {genre &&\n              genre.map((genre, index) => {\n                return (\n                  <a\n                    key={index}\n                    // href={\"http://localhost:3000/video/\".concat(genreName?.videoid)}\n                    class=\"col-span-6 sm:col-span-2 p-6 max-w-sm bg-blue-200 rounded-lg border justify-center items-center border-gray-200 shadow-md hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700\"\n                  >\n                    <h5 class=\"mb-2 text-xl font-bold tracking-tight text-gray-900 dark:text-white \">\n                      {genre?.genre_name}\n                    </h5>\n                  </a>\n                );\n              })}\n          </div>\n\n          <h2 className=\"text-3xl font-bold mb-5 mt-10\">Movies</h2>\n\n          <div className=\"grid grid-cols-1 gap-y-10 sm:grid-cols-2 gap-x-6 lg:grid-cols-3 xl:grid-cols-4 xl:gap-x-8\">\n            {movies &&\n              movies.map((movies) => {\n                return (\n                  <a\n                    key={movies.videoid}\n                    href={\"http://localhost:3000/video/\".concat(movies.videoid)}\n                    className=\"group\"\n                  >\n                    <div className=\"w-full aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden xl:aspect-w-7 xl:aspect-h-8\">\n                      <img\n                        src={movies.poster_link}\n                        className=\"w-full h-full object-center object-cover group-hover:opacity-75\"\n                      />\n                    </div>\n                    <h3 className=\"mt-4 text-lg text-gray-700 font-normal\">\n                      {movies.title}\n                    </h3>\n                    <p className=\"mt-1 text-4xl font-medium text-yellow-400\">\n                      {\"*\".repeat(movies.imdb_rating)}\n                    </p>\n                  </a>\n                );\n              })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n//http://localhost:3000/list\n"],"mappings":"6eAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,MAAOC,UAAP,KAAsB,kBAAtB,CACA,OAASC,YAAT,KAA6B,yBAA7B,C,wFAEA,cAAe,SAASC,eAAT,CAAwBC,KAAxB,CAA+B,CAC5C,gBAA8BN,UAAU,CAACI,YAAD,CAAxC,CAAQG,MAAR,aAAQA,MAAR,CAAgBC,SAAhB,aAAgBA,SAAhB,CACA,cAA0BN,QAAQ,CAAC,EAAD,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eACA,eAAkCR,QAAQ,CAAC,EAAD,CAA1C,yCAAOS,SAAP,eAAkBC,YAAlB,eACA,GAAIC,EAAC,CAAG,CAAR,CACA,GAAIC,IAAG,CAAG,EAAV,CACAb,SAAS,CAAC,UAAM,CACd,GAAMc,UAAS,4FAAG,gMAEKZ,UAAS,CAACa,GAAV,CAAc,iBAAd,CAFL,QAERC,IAFQ,eAGdT,SAAS,CAACS,IAAI,CAACC,IAAL,CAAUA,IAAV,CAAeC,IAAhB,CAAT,CAHc,sBAIMhB,UAAS,CAACa,GAAV,CAAc,YAAd,CAJN,QAIRP,MAJQ,eAKdC,QAAQ,CAACD,MAAK,CAACS,IAAP,CAAR,CALc,uBAOIf,UAAS,CAAC,iBAAD,CAPb,SAORW,IAPQ,eAQdF,YAAY,CAACE,IAAG,CAACI,IAAL,CAAZ,CARc,iFAUdE,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB,EAVc,qEAAH,kBAATP,UAAS,0CAAf,CAaAA,SAAS,GACV,CAfQ,CAeN,EAfM,CAAT,CAiBA,mBACE,kCACE,YAAK,SAAS,CAAC,UAAf,uBACE,aAAK,SAAS,CAAC,oEAAf,wBACE,WAAI,SAAS,CAAC,yBAAd,mBADF,cAGE,YAAK,SAAS,CAAC,8BAAf,UACGN,KAAK,EACJA,KAAK,CAACc,GAAN,CAAU,SAACd,KAAD,CAAQe,KAAR,CAAkB,CAC1B,mBACE,UAEE;AACA,KAAK,CAAC,0MAHR,uBAKE,WAAI,KAAK,CAAC,sEAAV,UACGf,KADH,SACGA,KADH,iBACGA,KAAK,CAAEgB,UADV,EALF,EACOD,KADP,CADF,CAWD,CAZD,CAFJ,EAHF,cAoBE,WAAI,SAAS,CAAC,+BAAd,oBApBF,cAsBE,YAAK,SAAS,CAAC,2FAAf,UACGjB,MAAM,EACLA,MAAM,CAACgB,GAAP,CAAW,SAAChB,MAAD,CAAY,CACrB,mBACE,WAEE,IAAI,CAAE,+BAA+BmB,MAA/B,CAAsCnB,MAAM,CAACoB,OAA7C,CAFR,CAGE,SAAS,CAAC,OAHZ,wBAKE,YAAK,SAAS,CAAC,iGAAf,uBACE,YACE,GAAG,CAAEpB,MAAM,CAACqB,WADd,CAEE,SAAS,CAAC,iEAFZ,EADF,EALF,cAWE,WAAI,SAAS,CAAC,wCAAd,UACGrB,MAAM,CAACsB,KADV,EAXF,cAcE,UAAG,SAAS,CAAC,2CAAb,UACG,IAAIC,MAAJ,CAAWvB,MAAM,CAACwB,WAAlB,CADH,EAdF,GACOxB,MAAM,CAACoB,OADd,CADF,CAoBD,CArBD,CAFJ,EAtBF,GADF,EADF,EADF,CAsDD,CACD"},"metadata":{},"sourceType":"module"}