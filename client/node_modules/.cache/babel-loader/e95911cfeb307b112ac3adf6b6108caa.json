{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import MovieList from\"../api/MovieList\";import Cookies from\"js-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Navbar(){var nav=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),userInfo=_useState6[0],setUserInfo=_useState6[1];var buttonRef=useRef(null);var togglePopover=function togglePopover(){return setIsOpen(!isOpen);};var userCookie=Cookies.get(\"user\");console.log(userCookie);if(userCookie){setUserInfo(JSON.parse(userCookie));console.log(userInfo);}var handleLogout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return MovieList.post(\"/logout\");case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);setError(\"Error logging out\");console.error(_context.t0.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function handleLogout(){return _ref.apply(this,arguments);};}();// const userInfo = getCookie(\"user\");\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"nav\",{class:\"bg-blue-200 border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-800\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"container flex flex-wrap justify-between items-center mx-auto\",children:[/*#__PURE__*/_jsxs(\"a\",{href:\"http://localhost:3000/\",class:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/undefined/external-movie-movie-theater-flaticons-lineal-color-flat-icons-7.png\",class:\"mr-3 h-6 sm:h-9\",alt:\"Trailflix Logo\"}),/*#__PURE__*/_jsx(\"span\",{class:\"self-center text-xl font-semibold whitespace-nowrap dark:text-white\",children:\"Trailflix\"})]}),/*#__PURE__*/_jsxs(\"button\",{\"data-collapse-toggle\":\"mobile-menu\",type:\"button\",class:\"inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600\",\"aria-controls\":\"mobile-menu\",\"aria-expanded\":\"false\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"sr-only\",children:\"Open main menu\"}),/*#__PURE__*/_jsx(\"svg\",{class:\"w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\",\"clip-rule\":\"evenodd\"})}),/*#__PURE__*/_jsx(\"svg\",{class:\"hidden w-6 h-6\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",\"clip-rule\":\"evenodd\"})})]}),/*#__PURE__*/_jsx(\"div\",{class:\"hidden w-full md:block md:w-auto\",id:\"mobile-menu\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"flex flex-col justify-center items-center text-center mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/\",class:\"block py-2 pr-4 pl-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white\",\"aria-current\":\"page\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/mov\",class:\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\",children:\"Add Movies\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/reg\",class:\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\",children:\"Register\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"http://localhost:3000/login\",class:\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,class:\"block py-2 pr-4 pl-3 text-red-500 bg-blue-700 rounded md:bg-transparent md:text-red-700 md:p-0 dark:text-white\",\"aria-current\":\"page\",children:\"Logout\"})})]})})]})})});}","map":{"version":3,"names":["React","useState","useRef","useEffect","useNavigate","MovieList","Cookies","Navbar","nav","isOpen","setIsOpen","error","setError","userInfo","setUserInfo","buttonRef","togglePopover","userCookie","get","console","log","JSON","parse","handleLogout","post","message"],"sources":["C:/Users/Shivani/Downloads/React/trailflix-master/trailflix-master/client/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport MovieList from \"../api/MovieList\";\nimport Cookies from \"js-cookie\";\n\nexport default function Navbar() {\n  const nav = useNavigate();\n  const [isOpen, setIsOpen] = useState(false);\n  const [error, setError] = useState();\n  const [userInfo, setUserInfo] = useState();\n\n  const buttonRef = useRef(null);\n\n  const togglePopover = () => setIsOpen(!isOpen);\n\n  const userCookie = Cookies.get(\"user\");\n  console.log(userCookie);\n\n  if (userCookie) {\n    setUserInfo(JSON.parse(userCookie));\n    console.log(userInfo);\n  }\n\n  const handleLogout = async () => {\n    try {\n      await MovieList.post(\"/logout\");\n    } catch (error) {\n      setError(\"Error logging out\");\n      console.error(error.message);\n    }\n  };\n\n  // const userInfo = getCookie(\"user\");\n  return (\n    <div>\n      <nav class=\"bg-blue-200 border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-800\">\n        <div class=\"container flex flex-wrap justify-between items-center mx-auto\">\n          <a href=\"http://localhost:3000/\" class=\"flex items-center\">\n            <img\n              src=\"https://img.icons8.com/external-flaticons-lineal-color-flat-icons/64/undefined/external-movie-movie-theater-flaticons-lineal-color-flat-icons-7.png\"\n              class=\"mr-3 h-6 sm:h-9\"\n              alt=\"Trailflix Logo\"\n            />\n            <span class=\"self-center text-xl font-semibold whitespace-nowrap dark:text-white\">\n              Trailflix\n            </span>\n          </a>\n          <button\n            data-collapse-toggle=\"mobile-menu\"\n            type=\"button\"\n            class=\"inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600\"\n            aria-controls=\"mobile-menu\"\n            aria-expanded=\"false\"\n          >\n            <span class=\"sr-only\">Open main menu</span>\n            <svg\n              class=\"w-6 h-6\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\"\n                clip-rule=\"evenodd\"\n              ></path>\n            </svg>\n            <svg\n              class=\"hidden w-6 h-6\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fill-rule=\"evenodd\"\n                d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                clip-rule=\"evenodd\"\n              ></path>\n            </svg>\n          </button>\n          <div class=\"hidden w-full md:block md:w-auto\" id=\"mobile-menu\">\n            <ul class=\"flex flex-col justify-center items-center text-center mt-4 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium\">\n              <li>\n                <a\n                  href=\"http://localhost:3000/\"\n                  class=\"block py-2 pr-4 pl-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white\"\n                  aria-current=\"page\"\n                >\n                  Home\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"http://localhost:3000/mov\"\n                  class=\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\"\n                >\n                  Add Movies\n                </a>\n              </li>\n\n              <li>\n                <a\n                  href=\"http://localhost:3000/reg\"\n                  class=\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\"\n                >\n                  Register\n                </a>\n              </li>\n              <li>\n                <a\n                  href=\"http://localhost:3000/login\"\n                  class=\"block py-2 pr-4 pl-3 text-gray-700 border-b border-gray-100 hover:bg-gray-50 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700\"\n                >\n                  Login\n                </a>\n              </li>\n              {/* <li className=\"flex justify-center items-center\">\n                <div className=\"relative inline-block text-left\">\n                  <button\n                    onClick={togglePopover}\n                    ref={buttonRef}\n                    className=\"flex items-center space-x-2 p-2 bg-gray-200 rounded-full\"\n                  >\n                    <img\n                      src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\n                      alt=\"Profile\"\n                      className=\"w-6 h-6 rounded-full\"\n                    />\n                  </button>\n\n                  {isOpen && (\n                    <div\n                      className=\"absolute z-10 mt-2 w-72 bg-white border rounded-lg shadow-lg\"\n                      style={{\n                        top: buttonRef.current\n                          ? buttonRef.current.offsetHeight\n                          : 0,\n                        left: buttonRef.current\n                          ? buttonRef.current.offsetWidth / 2 - 96 // Center it by calculating half of the button width minus half of the popover width\n                          : 0,\n                        transform: \"translateX(-50%)\", // Center horizontally\n                        maxWidth: \"calc(100vw - 32px)\", // Flexible width, less restrictive\n                        maxHeight: \"auto\", // Allow flexible height\n                        // overflow: \"hidden\", // Remove scrolling\n                      }}\n                    >\n                      <div className=\"p-4 w-full\">\n                        <div className=\"flex w-full items-center space-x-3\">\n                          <img\n                            src=\"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png\"\n                            alt=\"Profile\"\n                            className=\"w-12 h-12 rounded-full\"\n                          />\n                          <div>\n                            <p className=\"font-semibold\">Username</p>\n                            <p className=\"text-gray-600\">email@example.com</p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </li> */}\n\n              <li>\n                <button\n                  onClick={handleLogout}\n                  class=\"block py-2 pr-4 pl-3 text-red-500 bg-blue-700 rounded md:bg-transparent md:text-red-700 md:p-0 dark:text-white\"\n                  aria-current=\"page\"\n                >\n                  Logout\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </div>\n  );\n}\n"],"mappings":"6eAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,MAA1B,CAAkCC,SAAlC,KAAmD,OAAnD,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,UAAP,KAAsB,kBAAtB,CACA,MAAOC,QAAP,KAAoB,WAApB,C,wFAEA,cAAe,SAASC,OAAT,EAAkB,CAC/B,GAAMC,IAAG,CAAGJ,WAAW,EAAvB,CACA,cAA4BH,QAAQ,CAAC,KAAD,CAApC,wCAAOQ,MAAP,eAAeC,SAAf,eACA,eAA0BT,QAAQ,EAAlC,yCAAOU,KAAP,eAAcC,QAAd,eACA,eAAgCX,QAAQ,EAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,UAAS,CAAGb,MAAM,CAAC,IAAD,CAAxB,CAEA,GAAMc,cAAa,CAAG,QAAhBA,cAAgB,SAAMN,UAAS,CAAC,CAACD,MAAF,CAAf,EAAtB,CAEA,GAAMQ,WAAU,CAAGX,OAAO,CAACY,GAAR,CAAY,MAAZ,CAAnB,CACAC,OAAO,CAACC,GAAR,CAAYH,UAAZ,EAEA,GAAIA,UAAJ,CAAgB,CACdH,WAAW,CAACO,IAAI,CAACC,KAAL,CAAWL,UAAX,CAAD,CAAX,CACAE,OAAO,CAACC,GAAR,CAAYP,QAAZ,EACD,CAED,GAAMU,aAAY,4FAAG,2KAEXlB,UAAS,CAACmB,IAAV,CAAe,SAAf,CAFW,sFAIjBZ,QAAQ,CAAC,mBAAD,CAAR,CACAO,OAAO,CAACR,KAAR,CAAc,YAAMc,OAApB,EALiB,mEAAH,kBAAZF,aAAY,0CAAlB,CASA;AACA,mBACE,kCACE,YAAK,KAAK,CAAC,0EAAX,uBACE,aAAK,KAAK,CAAC,+DAAX,wBACE,WAAG,IAAI,CAAC,wBAAR,CAAiC,KAAK,CAAC,mBAAvC,wBACE,YACE,GAAG,CAAC,qJADN,CAEE,KAAK,CAAC,iBAFR,CAGE,GAAG,CAAC,gBAHN,EADF,cAME,aAAM,KAAK,CAAC,qEAAZ,uBANF,GADF,cAWE,gBACE,uBAAqB,aADvB,CAEE,IAAI,CAAC,QAFP,CAGE,KAAK,CAAC,uNAHR,CAIE,gBAAc,aAJhB,CAKE,gBAAc,OALhB,wBAOE,aAAM,KAAK,CAAC,SAAZ,4BAPF,cAQE,YACE,KAAK,CAAC,SADR,CAEE,IAAI,CAAC,cAFP,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,4BAJR,uBAME,aACE,YAAU,SADZ,CAEE,CAAC,CAAC,iJAFJ,CAGE,YAAU,SAHZ,EANF,EARF,cAoBE,YACE,KAAK,CAAC,gBADR,CAEE,IAAI,CAAC,cAFP,CAGE,OAAO,CAAC,WAHV,CAIE,KAAK,CAAC,4BAJR,uBAME,aACE,YAAU,SADZ,CAEE,CAAC,CAAC,oMAFJ,CAGE,YAAU,SAHZ,EANF,EApBF,GAXF,cA4CE,YAAK,KAAK,CAAC,kCAAX,CAA8C,EAAE,CAAC,aAAjD,uBACE,YAAI,KAAK,CAAC,uHAAV,wBACE,iCACE,UACE,IAAI,CAAC,wBADP,CAEE,KAAK,CAAC,+GAFR,CAGE,eAAa,MAHf,kBADF,EADF,cAUE,iCACE,UACE,IAAI,CAAC,2BADP,CAEE,KAAK,CAAC,2RAFR,wBADF,EAVF,cAmBE,iCACE,UACE,IAAI,CAAC,2BADP,CAEE,KAAK,CAAC,2RAFR,sBADF,EAnBF,cA2BE,iCACE,UACE,IAAI,CAAC,6BADP,CAEE,KAAK,CAAC,2RAFR,mBADF,EA3BF,cAmFE,iCACE,eACE,OAAO,CAAEA,YADX,CAEE,KAAK,CAAC,gHAFR,CAGE,eAAa,MAHf,oBADF,EAnFF,GADF,EA5CF,GADF,EADF,EADF,CAkJD"},"metadata":{},"sourceType":"module"}